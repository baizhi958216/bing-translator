# 更新日志

"bing-translator" 扩展的所有重要更改都将记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/spec/v2.0.0.html)。

## [1.0.3] - 2026-01-10

### 修复
- 修复了当必应翻译重定向到区域域名（如 cn.bing.com）时的初始化失败问题
- 在配置获取过程中添加了 HTTP 重定向处理
- 使主机名动态化，自动支持所有区域必应域名

### 改进
- 增强 `fetchGlobalConfig()` 方法以跟随 HTTP 302 重定向
- 添加 `hostname` 属性来跟踪重定向后的最终区域域名
- 更新翻译 API 请求以使用正确的区域主机名

## [1.0.2] - 2026-01-10

### 新增
- 右键菜单集成：选中文本后右键可翻译
- 编辑器右键菜单中的"翻译选中内容"选项（仅在选中文本时显示）

### 改进
- 通过增加右键菜单访问方式，提升用户体验

## [1.0.1] - 2026-01-10

### 新增
- 多语言界面支持（中文和英文）
- 自动检测 VSCode 语言设置并显示对应界面
- 中文本地化文件 (package.nls.zh-cn.json)
- 英文本地化文件 (package.nls.json)
- 国际化模块 (src/i18n.js)
- 中文版 README (README.zh-CN.md)
- 中文版更新日志 (CHANGELOG.zh-CN.md)

### 改进
- 所有用户界面文本现已本地化
- 命令标题支持多语言
- 配置项描述支持多语言
- 错误消息支持多语言
- 状态栏文本和提示支持多语言

### 技术改进
- 添加 i18n 模块用于运行时字符串本地化
- 使用 VSCode 标准的 package.nls 机制进行扩展元数据本地化
- 支持通过 vscode.env.language 自动检测用户语言

## [1.0.0] - 2026-01-09

### 新增
- Bing 翻译器首次发布
- 输入框翻译模式，使用 Ctrl+Shift+T 键盘快捷键
- 选中文本翻译模式，使用 Ctrl+Alt+T 键盘快捷键
- 状态栏集成，带地球图标
- 可配置的源语言和目标语言
- 通过必应翻译 API 支持 180+ 种语言
- 支持自动检测源语言
- 智能错误处理，提供用户友好的错误消息
- 动态状态栏工具提示，显示当前语言对
- 配置更改监听器，实现实时更新
- 模块化架构，包含独立的 StatusBarManager 和 Commands 类
- 简化的必应翻译 API 客户端，带令牌管理

### 功能
- 通过输入框对话框翻译文本
- 翻译编辑器中选中的文本
- 用翻译替换选中内容
- 复制翻译结果
- 状态栏按钮快速访问
- 必应翻译 API 自动令牌刷新
- 翻译过程中的进度指示器
- 输入验证

### 技术细节
- VSCode 引擎：^1.96.0
- 无外部依赖（使用内置的 Node.js 模块）
- 清晰的关注点分离
- 适当的资源释放
- 配置更改处理